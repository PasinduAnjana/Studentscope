<h2 class="heading">
  <i class="fas fa-pen"></i> <span data="sidebar.marks"></span>
</h2>

<div class="marks-grid" id="marksCards">
  <!-- Cards will be populated by JS -->
</div>

<script>
  // Fetch all required data
  async function loadClasses() {
    try {
      // Mock data - replace with API call
      const teacherData = {
        id: "T1",
        classTeacherOf: "10A",
        subjectAssignments: [
          { class: "10B", subject: "Mathematics" },
          { class: "11A", subject: "Mathematics" },
          { class: "10C", subject: "Mathematics" },
        ],
      };

      renderCards(teacherData);
    } catch (err) {
      console.error("Error loading data:", err);
    }
  }

  function renderCards(teacherData) {
    const container = document.getElementById("marksCards");
    container.innerHTML = "";

    // Class teacher card
    if (teacherData.classTeacherOf) {
      const card = document.createElement("a");
      card.href = `./enter_marks.html?class=${teacherData.classTeacherOf}&type=class_teacher`;
      card.className = "marks-card class-teacher";

      card.innerHTML = `
        <div class="marks-card-header">
          <div>
            <h3 class="marks-card-title">Class ${teacherData.classTeacherOf}</h3>
            <p class="marks-card-subtitle">Class Teacher - All Subjects</p>
            <span class="status pending">Pending Marks</span>
          </div>
        </div>
      `;

      container.appendChild(card);
    }

    // Subject teacher cards
    teacherData.subjectAssignments.forEach((assignment) => {
      const card = document.createElement("a");
      card.href = `./enter_marks.html?class=${assignment.class}&subject=${assignment.subject}&type=subject_teacher`;
      card.className = "marks-card";

      card.innerHTML = `
        <div class="marks-card-header">
          <div>
            <h3 class="marks-card-title">Class ${assignment.class}</h3>
            <p class="marks-card-subtitle">Subject Teacher - ${assignment.subject}</p>
            <span class="status pending">Pending Marks</span>
          </div>
        </div>
      `;

      container.appendChild(card);
    });
  }

  // Initialize
  loadClasses();
</script>
